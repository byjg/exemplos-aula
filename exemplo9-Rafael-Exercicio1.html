<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dever de casa</title>
    <style>
        #alerta {
            background-color: red;
            color: aliceblue;
            width: fit-content;
            padding: 10px;
            margin-bottom: 10px;
            display: none;
        }
        #botoes {
            display: inline-flex;
        }
    </style>
</head>
<body>

<form id="cadastro">
    <div id="pg0">
        Nome: <input id="Nome" type="text" required pattern="[A-z\S]+$" name="Nome" placeholder="Digite o nome" title="Nomes aceitam apenas letras"/><br/>
        Email: <input id="Email" type="email" required name="Email" placeholder="Digite o emai" title="Digite seu email corretamente" /><br/>
    </div>

    <div id="pg1">
        Rua: <input id="Rua" type="text" required pattern="[A-z\s]+$" name="Rua" placeholder="Digite a rua" title="Digite sua rua corretamente"/><br/>
        Numero: <input id="text" type="number" required pattern="[0-9]+$" name="Numero" placeholder="Digite o numero" title="Digite apenas numeros"/><br/>
        CEP: <input id="CEP" type="text" required pattern="[0-9]{5}\-[0-9]{3}" maxlength="8" name="CEP" placeholder="Digite o CEP" title="Digite CEP no padrão correto"/><br/>
        Estado: <input id="Estado" type="text" required pattern="[A-Z\S]+$" maxlength="2" name="Estado" placeholder="Digite o estado" title="Digite apenas a sua UF"/><br/>
    </div>

    <div id="pg2">
        Twitter: <input id="twitter" type="url" required name="Twitter" placeholder="Digite o twitter" title="Digite a url do seu Twitter"/><br/>
        FB: <input id="facebook" type="url" required name="Facebook" placeholder="Digite o facebook" title="Digite a url do seu Fecebook"/><br/>
    </div>

    <div id="pg3">Aqui entra o resultado</div>

    <div id="botoes">
        <input id="voltar" type="submit" value="Voltar" onclick="voltarClick()"/>
        <input id="avancar" type="submit" value="Avancar" onclick="avancarClick()"/>
    </div>

    <div id="alerta" >Existem campos nao preenchidos </div>
</form>

<script type="text/javascript">

    var currentAction = null;

    document.addEventListener('submit', function (e) {
        e.preventDefault();

    });

    function voltarClick() {
        alert('voltar');
        currentAction = -1;
    }

    function avancarClick() {
        alert('avancar');
        currentAction = 1;
    }



    var resultado = [
        {
            '#Nome': null,
            '#Email': null
        },
        {
            "#Rua": null,
            "#Numero": null,
            "#CEP": null,
            "#Estado": null
        },
        {
            '#twitter': null,
            '#facebook':null
        }
    ];


    var pagina = 0;
    var maxPages = resultado.length;
    mostrarElementos();

    function mostrarElementos() {
        document.querySelector('#alerta').style.display = "none";

        document.querySelector('#pg0').style.display = "none";
        document.querySelector('#pg1').style.display = "none";
        document.querySelector('#pg2').style.display = "none";
        document.querySelector('#pg3').style.display = "none";
        document.querySelector('#pg' + pagina).style.display = "block";

        document.querySelector('#voltar').style.display = (pagina > 0 ? 'block' : 'none');
        document.querySelector('#avancar').style.display = (pagina === maxPages  ? 'none' : 'block');
        document.querySelector('#avancar').value = (pagina === maxPages -1  ? 'Concluir' : 'Avançar');
    }

    function verificarPagina(num) {
        document.querySelector('#alerta').style.display = "none";
        for (selector in resultado[num]) {
            resultado[num][selector] = document.querySelector(selector).value;
            if (!document.querySelector(selector).value) {
                document.querySelector('#alerta').style.display = "block";
                return false;
            }
        }
        return true;
    }
    /*function verificarPagina2(num) {
        document.querySelector('#alerta').style.display = "none";
        document.querySelector('#alerta').style.display = (Nome.required===false ? 'block' : 'none');
        document.querySelector('#alerta').style.display = (Email.required===false ? 'block' : 'none');
        document.querySelector('#alerta').style.display = (Rua.required===false ? 'block' : 'none');
        document.querySelector('#alerta').style.display = (Numero.required===false ? 'block' : 'none');
        document.querySelector('#alerta').style.display = (CEP.required===false ? 'block' : 'none');
        document.querySelector('#alerta').style.display = (Estado.required===false ? 'block' : 'none');
        document.querySelector('#alerta').style.display = (Twitter.required===false ? 'block' : 'none');
        document.querySelector('#alerta').style.display = (Facebook.required===false ? 'block' : 'none');
        //da erro, fazer em um for.

    }*/

    function avancar() {
        if (!verificarPagina(pagina)) {
            return;
        }

        pagina = pagina + 1;
        if (pagina === maxPages) {
            finalizar();
        }
        mostrarElementos();
    }

    function voltar() {
        pagina = pagina - 1;
        mostrarElementos();
    }

    function finalizar(){
        var strResultado = "";

        for (var i=0; i<maxPages; i++) {
            for(selector in resultado[i]){
                strResultado = strResultado + selector + ": " + resultado[i][selector] + "<br/>";
            }
        }
        document.querySelector('#pg' + pagina).innerHTML = strResultado;
    }
</script>

</body>
</html>
